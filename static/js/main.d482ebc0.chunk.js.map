{"version":3,"sources":["layouts/Header.js","layouts/Navigation.js","components/AppContext.js","pages/HomePage.js","pages/ProductPage.js","redux/actions/appActions.js","redux/reducers/appReducer.js","redux/reducers/rootReducer.js","redux/store/store.js","redux/middleware/validateAuthorMiddleware.js","pages/AdminPage.js","redux/reduxComponents/RateForm.jsx","redux/reduxComponents/RateFormElement.jsx","redux/reduxComponents/RateFormList.jsx","pages/ContactPage.js","pages/ErrorPage.js","mobx/stores/CommentsStore.js","mobx/stores/RootStore.js","mobx/stores/StoreProviderMobx.jsx","mobx/stores/mobXhooks.js","mobx/mobxComponents/MobXForm.jsx","mobx/mobxComponents/MobXCommentsList.jsx","pages/MobXPage.js","layouts/Page.js","layouts/Footer.js","layouts/App.js","index.js"],"names":["Header","path","exact","render","src","alt","Component","list","name","Navigation","map","item","index","to","className","this","menu","AppContext","createContext","AppProvider","children","useState","counter","setCounter","isLogged","setIsLogged","Provider","value","changeCounterValue","prevValue","toggleIsLogged","reducer","state","action","type","concat","text","filter","el","id","Error","HomePage","useContext","inputText","setInputText","useReducer","dispatch","showElements","onClick","style","padding","backgroundColor","color","border","onChange","e","target","CounterButton","callback","console","log","ProductPage","firstCounter","setFirstCounter","secondCounter","setSecondCounter","increaseFirstCounter","firstCounterComponent","useMemo","ADD","DELETE","EDIT","appReducer","payload","currentStateElement","author","comment","rate","warn","rootReducer","combineReducers","rates","store","createStore","applyMiddleware","next","length","error","buttonStyle","margin","AdminPage","buttonText","RateForm","authorInput","setAuthorInput","rateInput","setRateInput","commentInput","setCommentInput","useDispatch","onSubmit","preventDefault","rateObject","Number","editRate","Math","floor","random","addRate","RateFormElement","isVisibleForm","setIsVisibleForm","toggleElements","formOrButtonElement","RateFormList","ratesElements","useSelector","ContactPage","ErrorPage","CommentsStore","comments","push","findIndex","makeObservable","observable","addComment","removeComment","RootStore","commentsStore","StoreContextMobx","StoreProviderMobx","useCommentsStore","rootStore","MobXForm","commentText","setCommentText","commentData","Date","now","observer","handleRemoveClick","dataset","commentsList","data-id","MobXPage","Page","component","Footer","App","basename","process","React","ReactDOM","StrictMode","document","getElementById"],"mappings":"4TAqBeA,E,4JAfX,WACI,OACI,mCACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAM,IAAKC,OAAK,EAACC,OAAQ,kBAAM,qBAAKC,IAAK,iCAAkCC,IAAK,WACvF,cAAC,IAAD,CAAOJ,KAAM,YAAaE,OAAQ,kBAAM,qBAAKC,IAAK,iCAAkCC,IAAK,WACzF,cAAC,IAAD,CAAOJ,KAAM,WAAYE,OAAQ,kBAAM,qBAAKC,IAAK,iCAAkCC,IAAK,WACxF,cAAC,IAAD,CAAOJ,KAAM,SAAUE,OAAQ,kBAAM,qBAAKC,IAAK,iCAAkCC,IAAK,WACtF,cAAC,IAAD,CAAOF,OAAQ,kBAAM,qBAAKC,IAAK,iCAAkCC,IAAK,oB,GAVrEC,a,gBCAfC,G,MAAO,CACT,CAACC,KAAM,QAASP,KAAM,IAAKC,OAAO,GAClC,CAACM,KAAM,WAAYP,KAAM,aACzB,CAACO,KAAM,UAAWP,KAAM,YACxB,CAACO,KAAM,OAAQP,KAAM,SACrB,CAACO,KAAM,cAAeP,KAAM,YAqBjBQ,E,6OAhBJF,EAAKG,KAAK,SAACC,EAAMC,GAAP,OACb,6BACI,cAAC,IAAD,CAASC,GAAIF,EAAKV,KAAMC,MAAOS,EAAKT,QAAS,EAA7C,SAAqDS,EAAKH,QADrDI,O,4CAIb,WACI,OACI,qBAAKE,UAAW,MAAhB,SACG,6BACKC,KAAKC,a,GAXAV,a,OCVZW,EAAaC,0BAgBXC,EAdK,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACJC,mBAAS,GADL,mBAC3BC,EAD2B,KAClBC,EADkB,OAEFF,oBAAS,GAFP,mBAE3BG,EAF2B,KAEjBC,EAFiB,KAOlC,OACI,cAACR,EAAWS,SAAZ,CAAqBC,MAAQ,CAAEL,UAASE,WAAUI,mBAJ3B,WAAQL,GAAW,SAAAM,GAAS,OAAIA,EAAY,MAIGC,eAHnD,WAAQL,GAAY,SAAAI,GAAS,OAAKA,OAGrD,SACKT,KCTPW,EAAU,SAACC,EAAOC,GACpB,OAAQA,EAAOC,MACX,IAAK,MACD,OAAOF,EAAMG,OAAOF,EAAOG,MAC/B,IAAK,SACD,OAAOJ,EAAMK,QAAO,SAACC,EAAG1B,GAAJ,OAAaA,IAAUqB,EAAOM,MACtD,QACI,MAAM,IAAIC,MAAM,gCAmCbC,EA/BE,WAAO,IAAD,EAC+BC,qBAAWzB,GAArDK,EADW,EACXA,QAASE,EADE,EACFA,SAAUI,EADR,EACQA,mBADR,EAEeP,mBAAS,IAFxB,mBAEZsB,EAFY,KAEDC,EAFC,OAKSC,qBAAWd,EAAS,CAAC,UAL9B,mBAKXC,EALW,KAKJc,EALI,KAabC,EAAef,EAAMtB,KAAI,SAAC4B,EAAG1B,GAAJ,OAC3B,8BAAgB0B,EACZ,wBAAQU,QAAS,kBAAMF,EAAS,CAACP,GAAI3B,EAAOsB,KAAM,YAAlD,sBADItB,MAGZ,OACI,gCACKY,EAAY,iDAAYF,EAAZ,IAAqB,uBAAK,wBAAQ2B,MAbnC,CAChBC,QAAS,GACTC,gBAAiB,UACjBC,MAAO,QACPC,OAAQ,QAS+DL,QAASpB,EAArC,kBAA1B,OAAwG,WACrH,oCACI,uBAAOM,KAAK,OAAOP,MAAOgB,EAAWW,SAlBzB,SAAAC,GAAMX,EAAaW,EAAEC,OAAO7B,UAmBxC,wBAAQqB,QAAS,WACbF,EAAS,CAACV,KAAMO,EAAWT,KAAM,QACjCU,EAAa,KAFjB,uBAICG,SCvCXU,EAAgB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAEpB,OADAC,QAAQC,IAAI,UAER,wBAAQZ,QAASU,EAAjB,iBAwBOG,EApBK,WAAO,IAAD,EACkBxC,mBAAS,GAD3B,mBACfyC,EADe,KACDC,EADC,OAEoB1C,mBAAS,GAF7B,mBAEf2C,EAFe,KAEAC,EAFA,KAMhBC,EAAuB,kBAAMH,GAAgB,SAAAlC,GAAS,OAAEA,EAAU,MAGlEsC,EAAwBC,mBAAQ,kBAAM,cAAC,EAAD,CAAeV,SAAUQ,MAA0B,IAE/F,OACI,kDAEI,2CAAcJ,EAAd,IAA6BK,KAC7B,2CAAcH,EAAd,IAA6B,wBAAQhB,QARf,kBAAMiB,GAAiB,SAAApC,GAAS,OAAEA,EAAU,MAQrC,uB,wBCxB5BwC,EAAM,MACNC,EAAS,SACTC,EAAO,OCyBLC,EAzBI,WAAyB,IAAxBxC,EAAuB,uDAAf,GAAIC,EAAW,uCACvC,OAAQA,EAAOC,MACX,KAAKmC,EACD,MAAM,GAAN,mBAAWrC,GAAX,CAAkBC,EAAOwC,UAC7B,KAAKF,EACD,OAAOvC,EAAMtB,KAAI,SAAAgE,GACb,GAAIA,EAAoBnC,KAAON,EAAOwC,QAAQlC,GAC1C,OAAOmC,EAFyB,MAKJzC,EAAOwC,QAAhCE,EAL6B,EAK7BA,OAAQC,EALqB,EAKrBA,QAASC,EALY,EAKZA,KACxB,MAAQ,CACJF,OAAQA,EACRC,QAASA,EACTrC,GAAIsC,EAAKtC,GACTsC,KAAKA,MAGjB,KAAKP,EACD,OAAOtC,EAAMK,QAAO,SAAAqC,GAAmB,OAAIA,EAAoBnC,KAAON,EAAOwC,QAAQlC,MACzF,QAEI,OADAoB,QAAQmB,KAAR,8BAAoC7C,EAAOC,OACpCF,ICpBN+C,EAAcC,YAAgB,CACvCC,MAAOT,ICCIU,EAFDC,YAAYJ,EAAaK,aCFC,SAAAF,GAAK,OAAI,SAAAG,GAAI,OAAI,SAAApD,GACrD0B,QAAQC,IAAI3B,GACRA,EAAOC,OAASmC,GAAQpC,EAAOwC,QAAQE,OAAOW,OAKlDD,EAAKpD,GAJD0B,QAAQ4B,MAAM,yCCDTC,EAAc,CACvBtC,QAAS,GACTuC,OAAQ,GACRtC,gBAAiB,UACjBC,MAAO,QACPC,OAAQ,QAiBGqC,EAdG,WAAO,IAAD,EAC0BhD,qBAAWzB,GAAjDK,EADY,EACZA,QAASE,EADG,EACHA,SAAUM,EADP,EACOA,eAGrB6D,EAAanE,EAAW,UAAW,SAEzC,OACI,sBAAKyB,MAAO,CAACG,MAAO,WAApB,UACK5B,EAAY,qCAAE,2DAAiC,0CAAaF,QAAmB,+EAChF,yBAAQ2B,MAAOuC,EAAaxC,QAASlB,EAArC,cAAuD6D,EAAvD,WCwCGC,EAtDE,SAAC,GAAyD,IAAD,IAAvDjB,cAAuD,MAA9C,GAA8C,MAA1CE,YAA0C,MAAnC,EAAmC,MAAhCD,eAAgC,MAAtB,GAAsB,EAAlBrC,EAAkB,EAAlBA,GAAImB,EAAc,EAAdA,SAAc,EAChCrC,mBAASsD,GADuB,mBAC/DkB,EAD+D,KAClDC,EADkD,OAEpCzE,mBAASwD,GAF2B,mBAE/DkB,EAF+D,KAEpDC,EAFoD,OAG9B3E,mBAASuD,GAHqB,mBAG/DqB,EAH+D,KAGjDC,EAHiD,KAKhEpD,EAAWqD,cAuBjB,OACI,sBAAMC,SAlBW,SAAA7C,GAEjB,GADAA,EAAE8C,iBACwB,IAAvBR,EAAYP,OACX,OAAO,EAEX,IAAMgB,EAAa,CACf3B,OAAQkB,EACRhB,KAAM0B,OAAOR,GACbnB,QAASqB,EACT1D,MAECO,EAALP,ENRgB,SAAC,GAAD,IAAEoC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,QAASC,EAAnB,EAAmBA,KAAMtC,EAAzB,EAAyBA,GAAzB,MAAkC,CACtDL,KAAMqC,EACNE,QAAS,CACLE,SACAE,OACAD,UACArC,OMEciE,CAASF,GNzBR,SAAC,GAAD,IAAE3B,EAAF,EAAEA,OAAQC,EAAV,EAAUA,QAASC,EAAnB,EAAmBA,KAAnB,MAA8B,CACjD3C,KAAMmC,EACNI,QAAS,CACLE,SACAE,OACAD,UACArC,GAAIkE,KAAKC,MAAsB,KAAhBD,KAAKE,YMmB2BC,CAAQN,IAEnD/D,GACAmB,KAIJ,SACI,gCACI,4BACI,6CACY,uBAAOxB,KAAK,OAAOoB,SA1BpB,SAAAC,GAAC,OAAIuC,EAAevC,EAAEC,OAAO7B,QA0BqBA,MAAOkE,SAGxE,4BACI,2CACU,uBAAO3D,KAAK,SAASoB,SA9BtB,SAAAC,GAAC,OAAIyC,EAAazC,EAAEC,OAAO7B,QA8BuBA,MAAOoE,SAGtE,4BACI,8CACa,uBAAO7D,KAAK,OAAOoB,SAlCpB,SAAAC,GAAC,OAAI2C,EAAgB3C,EAAEC,OAAO7B,QAkCqBA,MAAOsE,SAG1E,wBAAQhD,MAAOuC,EAAatD,KAAK,SAAjC,SACKK,EAAK,YAAc,mB,QCjCzBsE,EAlBS,SAAC,GAAiC,IAAhClC,EAA+B,EAA/BA,OAAQE,EAAuB,EAAvBA,KAAMD,EAAiB,EAAjBA,QAASrC,EAAQ,EAARA,GAAQ,EACXlB,oBAAS,GADE,mBAC9CyF,EAD8C,KAC/BC,EAD+B,KAG/CC,EAAiB,kBAAMD,GAAiB,SAAAlF,GAAS,OAAKA,MAEtDoF,EAAsBH,EACrB,cAAC,EAAD,CAAUpD,SAAUsD,EAAgBrC,OAAQA,EAAQE,KAAMA,EAAMD,QAASA,EAASrC,GAAIA,IACvF,wBAAQS,QAASgE,EAAjB,2CACN,OACI,+BACI,yCAAYrC,KACZ,uCAAUE,KACV,0CAAaD,KACZqC,MCFEC,EAVM,WACjB,IACMC,EADQC,aAAY,SAAAlC,GAAK,OAAIA,EAAMD,SACbvE,KAAI,SAAAmE,GAAI,OAAI,cAAC,EAAD,eAAmCA,GAAbA,EAAKtC,OACnE,OACI,6BACK4E,KCQEE,EAXK,WAChB,OACI,eAAC,IAAD,CAAUnC,MAAOA,EAAjB,wDAEI,cAAC,EAAD,IACA,uCACA,cAAC,EAAD,QCCGoC,E,4JATX,WACI,OACI,4C,GAJYhH,a,OCAHiH,EACjB,aAAe,IAAD,uDASH,CACP,CAAC,GAAK,IAAK3C,QAAS,eAVV,+BAcD,SAAAA,GAAO,OAAI,EAAK4C,SAASC,KAAK7C,MAd7B,kCAiBE,SAAArC,GAEZ,IAAc,IADA,EAAKiF,SAASE,WAAU,SAAA9C,GAAO,OAAIA,EAAQrC,KAAOA,KAC9C,OAAO,EACzB,EAAKiF,SAAW,EAAKA,SAASnF,QAAO,SAAAuC,GAAO,OAAIA,EAAQrC,KAAOA,QAnB/DoF,YAAe5G,KAAM,CACjByG,SAAUI,IACVC,WAAY5F,IACZ6F,cAAe7F,OCCX8F,EALZ,aAAe,oBACXhH,KAAKiH,cAAgB,IAAIT,GCDpBU,EAAmB/G,0BASjBgH,EAPW,SAAC,GAAD,IAAE9G,EAAF,EAAEA,SAAF,OACtB,cAAC6G,EAAiBvG,SAAlB,CAA2BC,MAAO,IAAIoG,EAAtC,SACK3G,KCHF,SAAS+G,IACZ,IAAMC,EAAY1F,qBAAWuF,GAE7B,IAAIG,EACA,MAAM,IAAI5F,MAAM,mFAGpB,OAAO4F,EAAUJ,cCPrB,IA4BeK,EA5BE,WAAO,IAAD,EACmBhH,mBAAS,IAD5B,mBACZiH,EADY,KACCC,EADD,KAIXV,EAAeM,IAAfN,WAcR,OACI,8BACI,uBAAMzB,SAdO,SAAA7C,GAEjB,GADAA,EAAE8C,iBACCiC,EAAYhD,OAAQ,CACnB,IAAMkD,EAAc,CAChBjG,GAAIkG,KAAKC,MACT9D,QAAS0D,GAEbT,EAAWW,GACXD,EAAe,MAMf,UACI,sDAAwB,uBAAOrG,KAAK,OAAOP,MAAO2G,EAAahF,SAnBnD,SAAAC,GAAC,OAAIgF,EAAehF,EAAEC,OAAO7B,UAmBzC,OACA,wBAAQsB,MAAOuC,EAAatD,KAAK,SAAjC,+B,QCDDyG,eApBU,WACxB,IAAD,EACwCR,IAA5BX,EADZ,EACYA,SAAUM,EADtB,EACsBA,cAEZc,EAAoB,SAAArF,GAAC,OAAIuE,EAAcvB,OAAOhD,EAAEC,OAAOqF,QAAQtG,MAE/DuG,EAAetB,EAAS9G,KAAK,SAAA4B,GAAE,OAC7B,+BACI,4BAAIA,EAAGsC,UACP,wBAAQ3B,MAAOuC,EAAauD,UAASzG,EAAGC,GAAIS,QAAS4F,EAArD,8BAFKtG,EAAGC,OAMpB,OACI,6BACKuG,OCHEE,EAZE,WACb,OACI,cAAC,EAAD,UACI,sBAAK/F,MAAO,CAACG,MAAO,aAApB,UACI,wCACA,cAAC,EAAD,IACA,cAAC,EAAD,UCiBD6F,E,4JAhBX,WACI,OACI,cAAC,EAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOhJ,KAAK,IAAIC,OAAK,EAACgJ,UAAWzG,IACjC,cAAC,IAAD,CAAOxC,KAAK,YAAYiJ,UAAWrF,IACnC,cAAC,IAAD,CAAO5D,KAAK,WAAWiJ,UAAW7B,IAClC,cAAC,IAAD,CAAOpH,KAAK,QAAQiJ,UAAWF,IAC/B,cAAC,IAAD,CAAO/I,KAAK,SAASiJ,UAAWxD,IAChC,cAAC,IAAD,CAAOwD,UAAW5B,a,GAXnBhH,aCGJ6I,G,4JATX,WACI,OACI,6C,GAJS7I,aCgCN8I,G,4JAxBX,WACI,OACI,cAAC,IAAD,CAAeC,SAAUC,sBAAzB,SACI,sBAAKxI,UAAU,MAAf,UACI,iCACI,cAAC,EAAD,MAEJ,iCACI,gCACI,cAAC,EAAD,MAEJ,yBAASA,UAAU,OAAnB,SACI,cAAC,EAAD,SAGR,iCACI,cAAC,GAAD,e,GAlBNyI,IAAMjJ,WCHxBkJ,IAASrJ,OACP,cAAC,IAAMsJ,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d482ebc0.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport \"../styles/Header.css\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\n\r\nclass Header extends Component\r\n{\r\n    render() {\r\n        return (\r\n            <>\r\n                <Switch>\r\n                    <Route path={\"/\"} exact render={() => <img src={\"https://picsum.photos/1000/200\"} alt={\"img\"}/> } />\r\n                    <Route path={\"/products\"} render={() => <img src={\"https://picsum.photos/1001/200\"} alt={\"img\"}/> } />\r\n                    <Route path={\"/contact\"} render={() => <img src={\"https://picsum.photos/1002/200\"} alt={\"img\"}/> } />\r\n                    <Route path={\"/admin\"} render={() => <img src={\"https://picsum.photos/1003/200\"} alt={\"img\"}/> } />\r\n                    <Route render={() => <img src={\"https://picsum.photos/1280/300\"} alt={\"img\"}/> } />\r\n                </Switch>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React, {Component} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport '../styles/Navigation.css';\r\n\r\nconst list = [\r\n    {name: \"start\", path: \"/\", exact: true},\r\n    {name: \"products\", path: \"/products\"},\r\n    {name: \"contact\", path: \"/contact\"},\r\n    {name: \"mobx\", path: \"/mobx\"},\r\n    {name: \"admin panel\", path: \"/admin\"},\r\n]\r\n\r\nclass Navigation extends Component\r\n{\r\n    menu = list.map( (item, index) => (\r\n        <li key={index}>\r\n            <NavLink to={item.path} exact={item.exact || false}>{item.name}</NavLink>\r\n        </li>\r\n    ));\r\n    render() {\r\n        return (\r\n            <nav className={\"nav\"}>\r\n               <ul>\r\n                   {this.menu}\r\n               </ul>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Navigation;","import React, {createContext, useDebugValue, useState} from 'react';\r\n\r\nexport const AppContext = createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [counter, setCounter] = useState(0);\r\n    const [isLogged, setIsLogged] = useState(false);\r\n\r\n    const changeCounterValue = () => { setCounter(prevValue => prevValue + 1)}\r\n    const toggleIsLogged = () => { setIsLogged(prevValue => !prevValue)}\r\n\r\n    return (\r\n        <AppContext.Provider value={ { counter, isLogged, changeCounterValue, toggleIsLogged } }>\r\n            {children}\r\n        </AppContext.Provider>\r\n    )\r\n};\r\n\r\nexport default AppProvider;","import React, {useContext, useReducer, useRef, useState} from 'react';\r\nimport {AppContext} from \"../components/AppContext\";\r\n\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'ADD':\r\n            return state.concat(action.text);\r\n        case 'REMOVE':\r\n            return state.filter((el,index)=> index !== action.id);\r\n        default:\r\n            throw new Error('Oops something went wrong!')\r\n    }\r\n}\r\n\r\nconst HomePage = () => {\r\n    const { counter, isLogged, changeCounterValue } = useContext(AppContext)\r\n    const [inputText, setInputText] = useState('');\r\n    const changeInputText = e => {setInputText(e.target.value)};\r\n\r\n    const [ state, dispatch ] = useReducer(reducer, ['witam']);\r\n    const buttonStyle = {\r\n        padding: 15,\r\n        backgroundColor: \"crimson\",\r\n        color: \"white\",\r\n        border: \"none\"\r\n    }\r\n\r\n    const showElements = state.map((el,index) => (\r\n        <p key={index}>{el}\r\n            <button onClick={() => dispatch({id: index, type: 'REMOVE'})}>delete</button>\r\n        </p>));\r\n    return (\r\n        <div>\r\n            {isLogged ? (<>Counter: {counter} <br/><button style={buttonStyle} onClick={changeCounterValue}> +1 </button> </>) : \"Homepage\" }\r\n            <section>\r\n                <input type=\"text\" value={inputText} onChange={changeInputText}/>\r\n                <button onClick={() => {\r\n                    dispatch({text: inputText, type: 'ADD'});\r\n                    setInputText('');\r\n                }}> Add text</button>\r\n                {showElements}\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\nexport default HomePage;","import React, {useCallback, useMemo, useState} from 'react';\r\n\r\nconst CounterButton = ({callback}) => {\r\n    console.log('render');\r\n    return (\r\n        <button onClick={callback}>+1</button>\r\n    )\r\n}\r\n\r\nconst ProductPage = () => {\r\n    const [firstCounter, setFirstCounter] = useState(0);\r\n    const [secondCounter, setSecondCounter] = useState(0);\r\n\r\n    //Dałem wcześniej też te useCallback do tej funkcji increaseFirstCounter, ale tylko useMemo na komponencie dało, że nie wywołuje się jeszcze raz\r\n    // chyba tego jeszcze nie kumam xd\r\n    const increaseFirstCounter = () => setFirstCounter(prevValue=>prevValue+1);\r\n    const increaseSecondCounter = () => setSecondCounter(prevValue=>prevValue+1);\r\n\r\n    const firstCounterComponent = useMemo(() => <CounterButton callback={increaseFirstCounter} />, []);\r\n\r\n    return (\r\n        <div>\r\n            Strona produktu\r\n            <p>Licznik1: {firstCounter} {firstCounterComponent}</p>\r\n            <p>Licznik2: {secondCounter} <button onClick={increaseSecondCounter}>+1</button></p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductPage;","export const ADD = 'ADD';\r\nexport const DELETE = 'DELETE'\r\nexport const EDIT = 'EDIT'\r\n\r\nexport const addRate = ({author, comment, rate}) => ({\r\n    type: ADD,\r\n    payload: {\r\n        author,\r\n        rate,\r\n        comment,\r\n        id: Math.floor(Math.random() * 1234),\r\n    }\r\n})\r\n\r\nexport const deleteRate = id => ({\r\n    type: DELETE,\r\n    payload: {\r\n        id\r\n    }\r\n})\r\n\r\nexport const editRate = ({author, comment, rate, id}) => ({\r\n    type: EDIT,\r\n    payload: {\r\n        author,\r\n        rate,\r\n        comment,\r\n        id\r\n    }\r\n});","import {ADD, DELETE, EDIT} from \"../actions/appActions\";\r\n\r\nconst appReducer = (state = [], action) => {\r\n    switch (action.type) {\r\n        case ADD:\r\n            return [...state, action.payload];\r\n        case EDIT:\r\n            return state.map(currentStateElement => {\r\n                if (currentStateElement.id !== action.payload.id) {\r\n                    return currentStateElement;\r\n                }\r\n\r\n                const {author, comment, rate} = action.payload;\r\n                return ({\r\n                    author: author,\r\n                    comment: comment,\r\n                    id: rate.id,\r\n                    rate:rate\r\n                })\r\n            });\r\n        case DELETE:\r\n            return state.filter(currentStateElement => currentStateElement.id !== action.payload.id);\r\n        default:\r\n            console.warn(`Nie mamy akcji typu ${action.type}`)\r\n            return state;\r\n    }\r\n}\r\nexport default appReducer;","import {combineReducers} from \"redux\";\r\nimport appReducer from \"./appReducer\";\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    rates: appReducer,\r\n})","import {rootReducer} from \"../reducers/rootReducer\";\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport {validateAuthorMiddleware} from \"../middleware/validateAuthorMiddleware\";\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(validateAuthorMiddleware));\r\n\r\nexport default store;","import {ADD} from '../actions/appActions';\r\n\r\nexport const validateAuthorMiddleware = store => next => action => {\r\n    console.log(action);\r\n    if (action.type === ADD && !action.payload.author.length) {\r\n        console.error('Autor nie ma imienia i nazwiska');\r\n        return;\r\n    }\r\n\r\n    next(action);\r\n}","import React, {useContext} from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport {AppContext} from \"../components/AppContext\";\r\n\r\nexport const buttonStyle = {\r\n    padding: 15,\r\n    margin: 15,\r\n    backgroundColor: \"crimson\",\r\n    color: \"white\",\r\n    border: \"none\"\r\n}\r\n\r\nconst AdminPage = () => {\r\n    const { counter, isLogged, toggleIsLogged } = useContext(AppContext)\r\n\r\n\r\n    const buttonText = isLogged ? \"Log out\" :\"Log in\";\r\n\r\n    return (\r\n        <div style={{color: \"crimson\"}}>\r\n            {isLogged ? (<><p>Admin panel - hello world!</p><p>Counter: {counter}</p></>) : <p> You don't have permissions to visit this site</p>}\r\n            <button style={buttonStyle} onClick={toggleIsLogged}> {buttonText} </button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AdminPage;","import React, {useState} from 'react';\r\nimport {buttonStyle} from \"../../pages/AdminPage\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nimport {addRate, editRate} from \"../actions/appActions\";\r\n\r\n\r\nconst RateForm = ({author = '', rate = 0, comment = '', id, callback}) => {\r\n    const [authorInput, setAuthorInput] = useState(author);\r\n    const [rateInput, setRateInput] = useState(rate);\r\n    const [commentInput, setCommentInput] = useState(comment);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleAuthorChange = e => setAuthorInput(e.target.value);\r\n    const handleRateChange = e => setRateInput(e.target.value);\r\n    const handleCommentChange = e => setCommentInput(e.target.value);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if(authorInput.length === 0) {\r\n            return 0;\r\n        }\r\n        const rateObject = {\r\n            author: authorInput,\r\n            rate: Number(rateInput),\r\n            comment: commentInput,\r\n            id,\r\n        }\r\n        id ? dispatch(editRate(rateObject)) : dispatch(addRate(rateObject));\r\n\r\n        if (id) {\r\n            callback();\r\n        }\r\n    }\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <p>\r\n                    <label>\r\n                        Author: <input type=\"text\" onChange={handleAuthorChange} value={authorInput}/>\r\n                    </label>\r\n                </p>\r\n                <p>\r\n                    <label>\r\n                        Rate: <input type=\"number\" onChange={handleRateChange} value={rateInput}/>\r\n                    </label>\r\n                </p>\r\n                <p>\r\n                    <label>\r\n                        Comment: <input type=\"text\" onChange={handleCommentChange} value={commentInput}/>\r\n                    </label>\r\n                </p>\r\n                <button style={buttonStyle} type=\"submit\">\r\n                    {id ? \"Edit rate\" : \"Add rate\"}\r\n                </button>\r\n            </div>\r\n    </form>\r\n    );\r\n}\r\n\r\nexport default RateForm;","import React, {useState} from 'react';\r\nimport RateForm from \"./RateForm\";\r\n\r\nconst RateFormElement = ({author, rate, comment, id}) => {\r\n    const [isVisibleForm, setIsVisibleForm] = useState(false);\r\n\r\n    const toggleElements = () => setIsVisibleForm(prevValue => !prevValue);\r\n\r\n    const formOrButtonElement = isVisibleForm\r\n        ? (<RateForm callback={toggleElements} author={author} rate={rate} comment={comment} id={id}/>)\r\n        : <button onClick={toggleElements}>Edytuj książkę</button>\r\n    return (\r\n        <li>\r\n            <p>Author: {author}</p>\r\n            <p>Rate: {rate}</p>\r\n            <p>Comment: {comment}</p>\r\n            {formOrButtonElement}\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default RateFormElement;","import React from 'react';\r\nimport RateFormElement from \"./RateFormElement\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst RateFormList = () => {\r\n    const rates = useSelector(store => store.rates);\r\n    const ratesElements = rates.map(rate => <RateFormElement key={rate.id} {...rate}/>);\r\n    return (\r\n        <ul>\r\n            {ratesElements}\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default RateFormList;","import React from 'react';\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"../redux/store/store\";\r\nimport RateForm from \"../redux/reduxComponents/RateForm\";\r\nimport RateFormList from \"../redux/reduxComponents/RateFormList\";\r\n\r\nconst ContactPage = () => {\r\n    return (\r\n        <Provider store={store}>\r\n            Miał być kontakt, ale jest ocena:\r\n            <RateForm />\r\n            <h4>List:</h4>\r\n            <RateFormList />\r\n        </Provider>\r\n    );\r\n}\r\n\r\nexport default ContactPage;","import React, {Component} from 'react';\r\n\r\nclass ErrorPage extends Component\r\n{\r\n    render() {\r\n        return (\r\n            <div>\r\n                Error\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ErrorPage;","import {observable, action, makeObservable} from 'mobx';\r\n\r\nexport default class CommentsStore {\r\n    constructor() {\r\n        makeObservable(this, {\r\n            comments: observable,\r\n            addComment: action,\r\n            removeComment: action\r\n        });\r\n    }\r\n\r\n    // @observable\r\n    comments = [\r\n        {'id':125, comment: 'Komentarz'}\r\n    ];\r\n\r\n    // @action\r\n    addComment = comment => this.comments.push(comment);\r\n\r\n    // @action\r\n    removeComment = id => {\r\n        const index = this.comments.findIndex(comment => comment.id === id);\r\n        if(index === -1)  return 0;\r\n        this.comments = this.comments.filter(comment => comment.id !== id)\r\n    }\r\n}","import CommentsStore from \"./CommentsStore\";\r\n\r\nclass RootStore {\r\n    constructor() {\r\n        this.commentsStore = new CommentsStore();\r\n    }\r\n}\r\n\r\n export default RootStore;","import React, {createContext} from 'react';\r\nimport RootStore from \"./RootStore\";\r\n\r\nexport const StoreContextMobx = createContext();\r\n\r\nconst StoreProviderMobx = ({children}) => (\r\n    <StoreContextMobx.Provider value={new RootStore()}>\r\n        {children}\r\n    </StoreContextMobx.Provider>\r\n)\r\n\r\n\r\nexport default StoreProviderMobx;","import {useContext} from \"react\";\r\nimport {StoreContextMobx} from \"./StoreProviderMobx\";\r\n\r\n\r\nexport function useCommentsStore() {\r\n    const rootStore = useContext(StoreContextMobx)\r\n\r\n    if(!rootStore) {\r\n        throw new Error('Nie znaleziono RootStore, sprawdź czy masz provider, który go dostarcza');\r\n    }\r\n\r\n    return rootStore.commentsStore;\r\n}","import React, {useState} from 'react';\r\nimport {buttonStyle} from \"../../pages/AdminPage\";\r\nimport {useCommentsStore} from \"../stores/mobXhooks\";\r\n\r\nconst MobXForm = () => {\r\n    const [commentText, setCommentText] = useState('');\r\n    const onChangeComment = e => setCommentText(e.target.value);\r\n\r\n    const { addComment } = useCommentsStore();\r\n\r\n    const submitHandle = e => {\r\n        e.preventDefault();\r\n        if(commentText.length) {\r\n            const commentData = {\r\n                id: Date.now(),\r\n                comment: commentText\r\n            }\r\n            addComment(commentData);\r\n            setCommentText('');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submitHandle}>\r\n                <label> wpisz komentarz <input type=\"text\" value={commentText} onChange={onChangeComment}/> </label>\r\n                <button style={buttonStyle} type=\"submit\">Add comment</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MobXForm;","import React from 'react';\r\nimport {useCommentsStore} from \"../stores/mobXhooks\";\r\nimport {buttonStyle} from \"../../pages/AdminPage\";\r\nimport {observer} from \"mobx-react\";\r\n\r\nconst MobXCommentsList = () =>\r\n{\r\n    const { comments, removeComment } = useCommentsStore()\r\n\r\n    const handleRemoveClick = e => removeComment(Number(e.target.dataset.id))\r\n\r\n    const commentsList = comments.map( el => (\r\n            <li key={el.id}>\r\n                <p>{el.comment}</p>\r\n                <button style={buttonStyle} data-id={el.id} onClick={handleRemoveClick}>Remove comment</button>\r\n            </li>\r\n        )\r\n    )\r\n    return (\r\n        <ul>\r\n            {commentsList}\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default observer(MobXCommentsList);","import React from 'react';\r\nimport StoreProviderMobx from \"../mobx/stores/StoreProviderMobx\";\r\nimport MobXForm from \"../mobx/mobxComponents/MobXForm\";\r\nimport MobXCommentsList from \"../mobx/mobxComponents/MobXCommentsList\";\r\n\r\nconst MobXPage = () => {\r\n    return (\r\n        <StoreProviderMobx>\r\n            <div style={{color: \"orangered\"}}>\r\n                <h2> MobX </h2>\r\n                <MobXCommentsList />\r\n                <MobXForm />\r\n            </div>\r\n        </StoreProviderMobx>\r\n    );\r\n};\r\n\r\nexport default MobXPage;","import React, {Component} from 'react';\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport HomePage from \"../pages/HomePage\";\r\nimport ProductPage from \"../pages/ProductPage\";\r\nimport ContactPage from \"../pages/ContactPage\";\r\nimport AdminPage from \"../pages/AdminPage\";\r\nimport ErrorPage from \"../pages/ErrorPage\";\r\nimport AppProvider from \"../components/AppContext\";\r\nimport MobXPage from \"../pages/MobXPage\";\r\n\r\nclass Page extends Component\r\n{\r\n    render() {\r\n        return (\r\n            <AppProvider>\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={HomePage}/>\r\n                    <Route path=\"/products\" component={ProductPage}/>\r\n                    <Route path=\"/contact\" component={ContactPage}/>\r\n                    <Route path=\"/mobx\" component={MobXPage}/>\r\n                    <Route path=\"/admin\" component={AdminPage}/>\r\n                    <Route component={ErrorPage}/>\r\n                </Switch>\r\n            </AppProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Page;","import React, {Component} from 'react';\r\n\r\nclass Footer extends Component\r\n{\r\n    render() {\r\n        return (\r\n            <div>\r\n                footer\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport '../styles/App.css';\nimport Header from \"./Header\";\nimport Navigation from \"./Navigation\";\nimport Page from \"./Page\";\nimport Footer from \"./Footer\";\n\nclass App extends React.Component\n{\n    render() {\n        return (\n            <BrowserRouter basename={process.env.PUBLIC_URL}>\n                <div className=\"App\">\n                    <header>\n                        <Header />\n                    </header>\n                    <main>\n                        <aside>\n                            <Navigation />\n                        </aside>\n                        <section className=\"page\">\n                            <Page />\n                        </section>\n                    </main>\n                    <footer>\n                        <Footer />\n                    </footer>\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './layouts/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}